2025-09-20 19:19:25,181 - machine_control - INFO - ALD Control System starting via CLI
2025-09-20 19:19:25,183 - machine_control - INFO - Effective Config -> PLC: simulation, IP: -, Port: -, Hostname: -, Auto-discover: false, LogLevel: INFO, LogFile: machine_control.log
2025-09-20 19:19:25,398 - machine_control - INFO - Starting machine control application
2025-09-20 19:19:25,398 - machine_control - INFO - Attempting initial PLC connection...
2025-09-20 19:19:25,398 - machine_control - INFO - Initializing PLC of type real
2025-09-20 19:19:25,398 - machine_control - INFO - Creating real PLC connection
2025-09-20 19:19:25,399 - machine_control - INFO - PLC connection config - IP: 169.254.123.6, Port: 502, Hostname: None, Auto-discover: False
2025-09-20 19:19:25,409 - machine_control - INFO - Using byte order: badc
2025-09-20 19:19:25,409 - machine_control - INFO - Connecting to real PLC at 169.254.123.6:502
2025-09-20 19:19:25,410 - machine_control - INFO - Connected to PLC successfully via static (Target: 169.254.123.6, Port: 502, Slave ID: 1)
2025-09-20 19:19:25,410 - machine_control - INFO - Successfully connected to PLC
2025-09-20 19:19:25,410 - machine_control - INFO - Initializing Supabase client with URL: https://yceyfsqusdmcwgkwxcnt.supabase.co
2025-09-20 19:19:25,411 - machine_control - INFO - API Key (first 10 chars): eyJhbGciOi...
2025-09-20 19:19:25,416 - machine_control - INFO - Supabase client initialized successfully
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'power_on' (Valve Heater 5) (ID: 2d983731-da39-4c5f-8576-10d2189c7743) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 2d983731-da39-4c5f-8576-10d2189c7743 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 2d983731-da39-4c5f-8576-10d2189c7743 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'power_on' (Valve Heater 2) (ID: 6dd9ff97-2e16-4717-96bb-0794575f9425) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 6dd9ff97-2e16-4717-96bb-0794575f9425 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 6dd9ff97-2e16-4717-96bb-0794575f9425 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'power_on' (Precursor 1) (ID: 1583a79b-079b-4b03-9c64-53b7cfa9d142) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 1583a79b-079b-4b03-9c64-53b7cfa9d142 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 1583a79b-079b-4b03-9c64-53b7cfa9d142 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'temperature' (Precursor 6) (ID: 679af492-9b52-4cb4-b26b-8df3bc51b31e) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 679af492-9b52-4cb4-b26b-8df3bc51b31e (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 679af492-9b52-4cb4-b26b-8df3bc51b31e (temperature) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'temperature' (Precursor 4) (ID: 0d444e71-9767-4956-af7b-787bfa79d080) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 0d444e71-9767-4956-af7b-787bfa79d080 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 0d444e71-9767-4956-af7b-787bfa79d080 (temperature) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'temperature' (Precursor 3) (ID: 2b2e7952-c68e-40eb-ab67-d182fc460821) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 2b2e7952-c68e-40eb-ab67-d182fc460821 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 2b2e7952-c68e-40eb-ab67-d182fc460821 (temperature) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'power_on' (Precursor 6) (ID: 218ae298-e80a-4197-96e1-3d890ae16ded) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 218ae298-e80a-4197-96e1-3d890ae16ded (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter 218ae298-e80a-4197-96e1-3d890ae16ded (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'Pressure' (Main Chamber) (ID: ec4cce9d-0e18-47ae-9429-3cbf0faf110d) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,662 - machine_control - ERROR - Parameter ec4cce9d-0e18-47ae-9429-3cbf0faf110d (Pressure) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,662 - machine_control - INFO - Parameter 'temperature' (precursor 2) (ID: dcea6a6e-4349-4287-9b83-4dc72410f6b1) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter dcea6a6e-4349-4287-9b83-4dc72410f6b1 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter dcea6a6e-4349-4287-9b83-4dc72410f6b1 (temperature) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'power_on' (Valve Heater 4) (ID: 3abe55c2-def0-45fe-be97-723aca75a478) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 3abe55c2-def0-45fe-be97-723aca75a478 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 3abe55c2-def0-45fe-be97-723aca75a478 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'power_on' (precursor 2) (ID: 2cadbb74-6e87-4833-96ae-719561a6c435) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 2cadbb74-6e87-4833-96ae-719561a6c435 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 2cadbb74-6e87-4833-96ae-719561a6c435 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Heater Zone 1) (ID: 2627255d-2220-4e03-9f0f-7e6802ace326) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 2627255d-2220-4e03-9f0f-7e6802ace326 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'flow' (MFC 1) (ID: 35969620-6843-4130-8eca-d6b62dc74dbf) read_addr: 2082, write_addr: 2086, data_type: float
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Champer Heater) (ID: b6433c16-cb13-4e6a-b5b8-1b1519f0b44b) read_addr: 2018, write_addr: 3018, data_type: float
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Precursor 1) (ID: e00b0f66-3c05-48a1-8318-f7d1da5f628e) read_addr: 2110, write_addr: 3110, data_type: float
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Backend Heater) (ID: 62c28aac-7300-4d3d-85c7-f043c3226439) read_addr: 2054, write_addr: 3054, data_type: float
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'power_on' (Nitrogen Generator) (ID: 9c53f4ef-5506-4a45-9718-af8a7b233056) read_addr: 37, write_addr: 37, data_type: binary
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'flow' (MFC 1) (ID: af4f85cd-f0a6-46ac-b2c9-5caa1117899b) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter af4f85cd-f0a6-46ac-b2c9-5caa1117899b (flow) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Valve Heater 6) (ID: 6fd0eb4a-6179-4cd1-a19a-10bf45e98b92) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 6fd0eb4a-6179-4cd1-a19a-10bf45e98b92 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'power_on' (Frontend Heater) (ID: 6c08a1b0-5674-46c1-9fb5-a4c4eca1adf1) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 6c08a1b0-5674-46c1-9fb5-a4c4eca1adf1 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 6c08a1b0-5674-46c1-9fb5-a4c4eca1adf1 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (precursor 5) (ID: bfb4e463-b31f-40ed-a119-2430abf94600) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter bfb4e463-b31f-40ed-a119-2430abf94600 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter bfb4e463-b31f-40ed-a119-2430abf94600 (temperature) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Heater Zone 2) (ID: aedcf5fe-ce01-4f03-97a1-025224f8fd4f) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter aedcf5fe-ce01-4f03-97a1-025224f8fd4f (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,663 - machine_control - INFO - Parameter 'temperature' (Heater Zone 3) (ID: 7a657f96-40ea-4f23-804a-635b716418d6) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,663 - machine_control - ERROR - Parameter 7a657f96-40ea-4f23-804a-635b716418d6 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'temperature' (Valve Heater 1) (ID: 5a7c8e1e-eb2b-4b24-8ea2-a9d1aff699bf) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 5a7c8e1e-eb2b-4b24-8ea2-a9d1aff699bf (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'temperature' (Valve Heater 2) (ID: cea58380-2919-483e-b03f-d720b71ecf9f) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter cea58380-2919-483e-b03f-d720b71ecf9f (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'temperature' (Valve Heater 3) (ID: 4d22ccb3-1e2d-48e1-8ffc-1d8653aea55a) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 4d22ccb3-1e2d-48e1-8ffc-1d8653aea55a (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'temperature' (Valve Heater 4) (ID: a9a93623-feea-4c76-8115-056357c3b516) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter a9a93623-feea-4c76-8115-056357c3b516 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'temperature' (Valve Heater 5) (ID: 995f5fcd-cf30-410e-9f58-2f51e8939439) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 995f5fcd-cf30-410e-9f58-2f51e8939439 (temperature) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'valve_state' (Valve 3) (ID: 896208fd-0e1f-49a2-9ef6-46ab0d341bee) read_addr: 17, write_addr: 1017, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Backend Heater) (ID: 73f16b0e-6a82-4027-a1cf-66bfa16dba69) read_addr: 4, write_addr: 1004, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'valve_state' (Valve 2) (ID: 846bc6d6-04df-4318-affb-b97cf7238793) read_addr: 16, write_addr: 1016, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'valve_state' (Valve 1) (ID: c6d493fa-adf3-4784-bb80-3425dd276d49) read_addr: 15, write_addr: 1015, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Valve Heater 1) (ID: 2e7ecdd7-a283-4ac4-a2fa-68bc95c209dc) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 2e7ecdd7-a283-4ac4-a2fa-68bc95c209dc (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 2e7ecdd7-a283-4ac4-a2fa-68bc95c209dc (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Valve Heater 6) (ID: 9fc0f785-db56-4752-820a-4aade9962a99) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 9fc0f785-db56-4752-820a-4aade9962a99 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 9fc0f785-db56-4752-820a-4aade9962a99 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'pressure' (Pressure Gauge 1) (ID: aea1df61-6f23-4077-9312-9244db9b3894) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter aea1df61-6f23-4077-9312-9244db9b3894 (pressure) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Heater Zone 1) (ID: 84e86c3e-7109-4b2c-9064-2aea619e6f64) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 84e86c3e-7109-4b2c-9064-2aea619e6f64 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter 84e86c3e-7109-4b2c-9064-2aea619e6f64 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'pressure' (Pressure Gauge 2) (ID: e76932c8-3ba3-4f74-849e-2b692eba6ff4) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter e76932c8-3ba3-4f74-849e-2b692eba6ff4 (pressure) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Heater Zone 2) (ID: fe5bd37b-742b-4383-b9c4-27693262930c) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter fe5bd37b-742b-4383-b9c4-27693262930c (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,664 - machine_control - ERROR - Parameter fe5bd37b-742b-4383-b9c4-27693262930c (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Champer Heater) (ID: ca61248a-9be5-43d2-a204-df6f15ef4fe7) read_addr: 0, write_addr: 1000, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Precursor 3) (ID: 687cf16a-8d3d-45ce-8a94-d20ec07f6dcd) read_addr: 27, write_addr: 1027, data_type: binary
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'pressure' (Pressure Gauge 2) (ID: 500c0329-946e-48c6-9b52-c08e65bd0292) read_addr: 2070, write_addr: 2073, data_type: float
2025-09-20 19:19:25,664 - machine_control - INFO - Parameter 'power_on' (Precursor 4) (ID: b6ffc326-6445-440f-9642-39e86953b399) read_addr: 29, write_addr: 1029, data_type: binary
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'pressure' (Pressure Gauge 1) (ID: 8fe19753-ebac-47ce-8461-a713b4e42695) read_addr: 2060, write_addr: 2060, data_type: float
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (MFC 1) (ID: 8195ef00-f478-48ee-9ee0-e43cc265ef42) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 8195ef00-f478-48ee-9ee0-e43cc265ef42 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 8195ef00-f478-48ee-9ee0-e43cc265ef42 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (precursor 5) (ID: d69d1937-1e06-4118-a960-02f0b9283890) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter d69d1937-1e06-4118-a960-02f0b9283890 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter d69d1937-1e06-4118-a960-02f0b9283890 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'valve_state' (Valve 4) (ID: 5adac7f8-816a-45bb-8f6e-ca45b8b4330f) read_addr: 18, write_addr: 1018, data_type: binary
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'valve_state' (Valve 5) (ID: fe443faf-947c-4d15-a5b8-959891cf0930) read_addr: 19, write_addr: 1019, data_type: binary
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'valve_state' (Valve 6) (ID: 78cdc7b1-25dc-42b9-b8af-a9a615305ac9) read_addr: 20, write_addr: 1020, data_type: binary
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (Vacuum Pump) (ID: 9917618c-7325-4771-a771-65b42c6d6c73) read_addr: 10, write_addr: 10, data_type: binary
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'temperature' (Frontend Heater) (ID: 4567ba45-1c86-45d2-bf4d-b1cf306f387a) read_addr: 2034, write_addr: 3034, data_type: float
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (Valve Heater 3) (ID: ea7ad0f0-96ce-4c88-9b9a-bd2cde56d514) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter ea7ad0f0-96ce-4c88-9b9a-bd2cde56d514 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter ea7ad0f0-96ce-4c88-9b9a-bd2cde56d514 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (Heater Zone 3) (ID: 832228f7-6f83-490a-b59c-5e151cbe1fb1) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 832228f7-6f83-490a-b59c-5e151cbe1fb1 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 832228f7-6f83-490a-b59c-5e151cbe1fb1 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (MFC 1) (ID: b52bef6d-7656-4b9c-8ca6-0244825a7d7b) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter b52bef6d-7656-4b9c-8ca6-0244825a7d7b (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter b52bef6d-7656-4b9c-8ca6-0244825a7d7b (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Parameter 'power_on' (Vacuum Pump) (ID: 257341e5-d681-4bf1-a777-43ebf94d74a7) read_addr: None, write_addr: None, data_type: None
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 257341e5-d681-4bf1-a777-43ebf94d74a7 (power_on) missing read_modbus_address; reads will fail until populated.
2025-09-20 19:19:25,665 - machine_control - ERROR - Parameter 257341e5-d681-4bf1-a777-43ebf94d74a7 (power_on) is writable but missing write_modbus_address; writes will fail until populated.
2025-09-20 19:19:25,665 - machine_control - INFO - Loaded metadata for 54 parameters
2025-09-20 19:19:25,786 - machine_control - INFO - Found 6 valve parameters
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 3 with write_modbus_address 1017
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 2 with write_modbus_address 1016
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 1 with write_modbus_address 1015
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 4 with write_modbus_address 1018
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 5 with write_modbus_address 1019
2025-09-20 19:19:25,786 - machine_control - INFO - Added Valve 6 with write_modbus_address 1020
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 3 (Valve 3) mapped to address: 1017
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 2 (Valve 2) mapped to address: 1016
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 1 (Valve 1) mapped to address: 1015
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 4 (Valve 4) mapped to address: 1018
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 5 (Valve 5) mapped to address: 1019
2025-09-20 19:19:25,787 - machine_control - INFO - Valve 6 (Valve 6) mapped to address: 1020
2025-09-20 19:19:25,787 - machine_control - INFO - Loaded mappings for 6 valves
2025-09-20 19:19:25,907 - machine_control - INFO - Found 0 potential purge parameters
2025-09-20 19:19:25,907 - machine_control - WARNING - No purge operation parameter found in database
2025-09-20 19:19:26,049 - machine_control - INFO - ✅ PLC connection initialized successfully
2025-09-20 19:19:26,049 - machine_control - INFO - Service starting with PLC connected: True
2025-09-20 19:19:26,049 - machine_control - INFO - Creating async Supabase client...
2025-09-20 19:19:26,049 - machine_control - INFO - Initializing async Supabase client with URL: https://yceyfsqusdmcwgkwxcnt.supabase.co
2025-09-20 19:19:26,049 - machine_control - INFO - API Key (first 10 chars): eyJhbGciOi...
2025-09-20 19:19:26,053 - machine_control - INFO - Async Supabase client initialized successfully
2025-09-20 19:19:26,053 - machine_control - INFO - Started 3 agents: connection-monitor, command-listener, parameter-control-listener
2025-09-20 19:19:26,053 - machine_control - INFO - Machine control application running
2025-09-20 19:19:26,053 - machine_control - INFO - ============================================================
2025-09-20 19:19:26,053 - machine_control - INFO - System Status:
2025-09-20 19:19:26,053 - machine_control - INFO - ❌ Disconnected
2025-09-20 19:19:26,053 - machine_control - INFO - ⚠️ Using Polling
2025-09-20 19:19:26,053 - machine_control - INFO -   - Machine ID: e3e6e280-0794-459f-84d5-5e468f60746e
2025-09-20 19:19:26,054 - machine_control - INFO - ============================================================
2025-09-20 19:19:26,054 - machine_control - INFO - Service is ready to receive commands
2025-09-20 19:19:26,054 - machine_control - INFO - [agent:connection-monitor] starting
2025-09-20 19:19:26,054 - machine_control - INFO - Starting connection monitor...
2025-09-20 19:19:26,054 - machine_control - INFO - Connection monitor started
2025-09-20 19:19:26,054 - machine_control - INFO - [agent:command-listener] starting
2025-09-20 19:19:26,054 - machine_control - INFO - Setting up command listener...
2025-09-20 19:19:26,054 - machine_control - INFO - Subscribing to INSERT events on recipe_commands table...
2025-09-20 19:19:26,057 - machine_control - INFO - [agent:parameter-control-listener] starting
2025-09-20 19:19:26,058 - machine_control - INFO - Setting up parameter control listener with realtime support...
2025-09-20 19:19:26,058 - machine_control - INFO - Setting up realtime subscriptions for parameter_control_commands table...
2025-09-20 19:19:26,058 - machine_control - INFO - Subscribing to realtime channel...
2025-09-20 19:19:26,058 - machine_control - INFO - ✅ PLC connection established
2025-09-20 19:19:26,576 - machine_control - INFO - Successfully subscribed to realtime channel: parameter-control-commands-e3e6e280-0794-459f-84d5-5e468f60746e
2025-09-20 19:19:26,576 - machine_control - INFO - Starting realtime connection monitor
2025-09-20 19:19:26,576 - machine_control - INFO - Checking for existing pending parameter control commands...
2025-09-20 19:19:26,576 - machine_control - INFO - Checking for existing pending parameter control commands...
2025-09-20 19:19:26,680 - machine_control - INFO - Started parameter control command polling as fallback mechanism
2025-09-20 19:19:26,680 - machine_control - INFO - ✅ Parameter control listener ready with REALTIME + polling fallback
2025-09-20 19:19:26,680 - machine_control - INFO - Starting parameter command polling (interval: 10s, realtime: True)
2025-09-20 19:19:26,681 - machine_control - INFO - Successfully subscribed to recipe_commands table
2025-09-20 19:19:26,681 - machine_control - INFO - Checking for existing pending commands...
2025-09-20 19:19:26,782 - machine_control - INFO - No pending commands found
2025-09-20 19:19:26,782 - machine_control - INFO - Checked for existing pending commands
2025-09-20 19:19:26,782 - machine_control - INFO - Starting command polling as a fallback mechanism
2025-09-20 19:19:26,783 - machine_control - INFO - Checking for existing pending commands...
2025-09-20 19:19:26,887 - machine_control - INFO - No pending commands found
2025-09-20 19:19:31,889 - machine_control - INFO - Checking for existing pending commands...
2025-09-20 19:19:32,127 - machine_control - INFO - No pending commands found
2025-09-20 19:19:33,128 - machine_control - INFO - Received interrupt signal, initiating cleanup...
2025-09-20 19:19:33,129 - machine_control - INFO - Beginning cleanup process...
2025-09-20 19:19:33,276 - machine_control - INFO - Disconnecting from PLC
2025-09-20 19:19:33,276 - machine_control - INFO - Disconnected from PLC
2025-09-20 19:19:33,276 - machine_control - INFO - Successfully disconnected from PLC
2025-09-20 19:19:33,276 - machine_control - INFO - Application shutdown complete
2025-09-20 19:19:33,276 - machine_control - INFO - [agent:connection-monitor] cancelled
2025-09-20 19:19:33,276 - machine_control - INFO - [agent:command-listener] cancelled
2025-09-20 19:19:33,277 - machine_control - INFO - [agent:parameter-control-listener] cancelled
Fatal error on SSL transport
protocol: <asyncio.sslproto.SSLProtocol object at 0x10b86f0d0>
transport: <_SelectorSocketTransport closing fd=15>
Traceback (most recent call last):
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/selector_events.py", line 918, in write
    n = self._sock.send(data)
OSError: [Errno 9] Bad file descriptor

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/sslproto.py", line 684, in _process_write_backlog
    self._transport.write(chunk)
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/selector_events.py", line 924, in write
    self._fatal_error(exc, 'Fatal write error on socket transport')
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/selector_events.py", line 719, in _fatal_error
    self._force_close(exc)
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/selector_events.py", line 731, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 746, in call_soon
    self._check_closed()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 510, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed
Task exception was never retrieved
future: <Task finished name='Task-19' coro=<signal_handler() done, defined at /Users/albaraa/ald-control-system-phase-5/src/main.py:69> exception=SystemExit(0)>
Traceback (most recent call last):
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 629, in run_until_complete
    self.run_forever()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 596, in run_forever
    self._run_once()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 1890, in _run_once
    handle._run()
  File "/Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/Users/albaraa/ald-control-system-phase-5/src/main.py", line 72, in signal_handler
    await cleanup_handler()
  File "/Users/albaraa/ald-control-system-phase-5/src/main.py", line 67, in cleanup_handler
    sys.exit(0)
SystemExit: 0

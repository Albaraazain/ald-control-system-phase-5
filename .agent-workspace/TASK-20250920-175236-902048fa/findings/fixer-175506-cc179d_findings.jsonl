{"timestamp": "2025-09-20T17:58:09.601312", "agent_id": "fixer-175506-cc179d", "finding_type": "insight", "severity": "medium", "message": "To safely remove legacy columns referenced by a view while preserving grants, the migration will: (1) add new columns + backfill; (2) capture existing GRANTs on the view; (3) drop and recreate `component_parameters_full` using a dynamically-built column list that excludes legacy columns; (4) re-apply captured GRANTs; (5) then drop legacy columns. This avoids guessing the full view definition and keeps privileges intact. If dependent objects exist, the migration aborts with a clear error so they can be updated first.", "data": {"objects_touched": ["public.component_parameters", "public.component_parameters_full", "public.parameter_control_commands"], "guards": ["IF [NOT] EXISTS", "transactional BEGIN/COMMIT", "exception handling for dependent objects", "idempotent backfill"]}}
